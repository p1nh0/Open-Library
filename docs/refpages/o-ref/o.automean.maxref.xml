<?xml version="1.0" encoding="utf-8" standalone="yes"?>

<?xml-stylesheet href="./_c74_ref.xsl" type="text/xsl"?>

<!--This is an automatically generated file. DO NOT EDIT THIS FILE DIRECTLY. Rather, use the _ref.xml files found in the 'edits' folder.-->
<c74object name="o.automean" module="max" category="Math">
	<digest>
		Calculate mean and mean difference from a stream of numbers
	</digest>
	<description>
		<o>o.automean</o> automatically calculates a stable variation of a given input stream. This can be used, for example, to get the mean variation of a noisy input.
	</description>
	<!--METADATA-->
	<metadatalist>
		<metadata name="author">
			p1nh0
		</metadata>
		<metadata name="tag">
			Max
		</metadata>
		<metadata name="tag">
			Control
		</metadata>
		<metadata name="tag">
			Lists
		</metadata>
		<metadata name="tag">
			Math
		</metadata>
		<metadata name="reference">
			TEXT_HERE
		</metadata>
		<metadata name="license">
			TEXT_HERE
		</metadata>
	</metadatalist>
	<!--INLETS-->
	<inletlist>
		<inlet id="0" type="int/float/list">
			<digest>
				(int/float/list) Calculate mean values from input number stream
			</digest>
			<description>
				TEXT_HERE
			</description>
		</inlet>
	</inletlist>
	<!--OUTLETS-->
	<outletlist>
		<outlet id="0" type="float">
			<digest>
				(float) Discrete scaled absolute mean difference
			</digest>
			<description>
				TEXT_HERE
			</description>
		</outlet>
		<outlet id="1" type="float">
			<digest>
				(float) Continuous scaled absolute mean difference
			</digest>
			<description>
				TEXT_HERE
			</description>
		</outlet>
			<outlet id="2" type="float">
			<digest>
				(float) Discrete scaled mean 
			</digest>
			<description>
				TEXT_HERE
			</description>
		</outlet>
			<outlet id="3" type="float">
			<digest>
				(float) Continuous scaled mean 
			</digest>
			<description>
				TEXT_HERE
			</description>
		</outlet>
			<outlet id="4" type="int">
			<digest>
				(int) Total number of input samples
			</digest>
			<description>
				TEXT_HERE
			</description>
		</outlet>
			<outlet id="5" type="int">
			<digest>
				(int) Progress (%)
			</digest>
			<description>
				TEXT_HERE
			</description>
		</outlet>
	</outletlist>
	<!--ARGUMENTS-->
	<objarglist>
		<objarg name="stability" optional="1" type="int">
			<digest>
				Number of consecutive times the absolute input difference must stay unchanged before considering the calculations stable
			</digest>
			<description>
				If the <m>stability</m> value is low (ex: 1~ 10) <o>o.automean</o> will reach the end of all calculations faster, so you should use low <m>stability</m> values for higly varying input numbers. 
				If the <m>stability</m> value is high (ex: 11~ 100) <o>o.automean</o> will reach the end of all calculations later, so you should use high <m>stability</m> values for stably varying input numbers. 
				Note that bigger <m>stability</m> values bring more accurate results, but also take more time to calculate, and vice versa.
			</description>
		</objarg>
	</objarglist>
	<!--MESSAGES-->
	<methodlist>
		<method name="bang">
			<arglist />
			<digest>
				(Re)start calculations
			</digest>
			<description>
				Starts receiving input number streams to calculate mean values.
			</description>
		</method>
		<method name="int/float/list">
			<arglist>
				<arg name="input" optional="0" type="int/float/list" />
			</arglist>
			<digest>
				Calculate and cause output
			</digest>
			<description>
				Numbers are calculated since the last <m>bang</m> received. 
			</description>
		</method>
		<method name="stop">
			<arglist />
			<digest>
				Stop calculations
			</digest>
			<description>
				Resets the stored and calculated contents of the object to zero without trigerring the outlets.
			</description>
		</method>
	</methodlist>
	<!--ATTRIBUTES-->
	<attributelist>
		<attribute name="scale" get="1" set="1" type="float" size="1">
			<digest>
				Scale value
			</digest>
			<description>
				Scales (multiplies) mean values.
			</description>
			<attributelist>
				<attribute name="basic" get="1" set="1" type="float" size="1" value="1." />
				<attribute name="label" get="1" set="1" type="symbol" size="1" value="Scale" />
				<attribute name="style" get="1" set="1" type="symbol" size="1" value="multiplication" />
			</attributelist>
		</attribute>
		<attribute name="autoclear" get="1" set="1" type="int" size="1">
			<digest>
				Autoclear mean values
			</digest>
			<description>
				If turned on (non-zero) the metro will begin running automatically at the time specified with the autostarttime attribute.
				If turned on (non-zero) <o>o.automean</o> will clear its mean calculations every N samples, according to the <m>samples</m> attribute.
			</description>
			<attributelist>
				<attribute name="basic" get="1" set="1" type="int" size="1" value="1" />
				<attribute name="label" get="1" set="1" type="symbol" size="1" value="Autoclear" />
				<attribute name="style" get="1" set="1" type="symbol" size="1" value="onoff" />
			</attributelist>
		</attribute>
		<attribute name="samples" get="1" set="1" type="int" size="1">
			<digest>
				Number of samples to autoclear
			</digest>
			<description>
				If the <m>autoclear</m> attribute is enabled (non-zero) <o>o.autoclear</o> will reset mean calculations every N samples.
			</description>
			<attributelist>
				<attribute name="label" get="1" set="1" type="symbol" size="1" value="N Samples" />
				<attribute name="style" get="1" set="1" type="int" size="1" value="samples" />
				<attribute name="units" get="1" set="1" type="int" size="3" value="100" />
			</attributelist>
		</attribute>
		<attribute name="changes" get="1" set="1" type="int" size="1">
			<digest>
				Changes (staility value)
			</digest>
			<description>
				This is the same as the argument. 
			</description>
			<attributelist>
				<attribute name="category" get="1" set="1" type="symbol" size="1" value="Stability" />
				<attribute name="label" get="1" set="1" type="symbol" sizes="1" value="Changes" />
				<attribute name="style" get="1" set="1" type="int" size="1" value="10" />
			</attributelist>
		</attribute>
	</attributelist>
	<!--EXAMPLE-->
	<examplelist>
		<example img="" caption="Random variation filter" />
	</examplelist>
	<!--SEEALSO-->
	<seealsolist>
		<seealso name="mean" />
		<seealso name="counter" />
		<seealso name="expr" />
		<seealso name="change" />
		<seealso name="iter" />
		<seealso name="o.varfilter" />		
	</seealsolist>
	<misc name="Output">
		<entry name="float">
			<description>
				Out leftmost outlet(0): The mean (average) difference between numbers received up to that point. This value is then multiplied by the <m>scale</m> value (if scale = 1. values are unafected). This outlet is discrete, which means the value will only be sent when the number of unchanged absolute differences is met and <o>o.automean</o> finishes calculations.
				<br />
				<br />
				Out outlet(1): The mean (average) difference between numbers received up to that point, which is also affected by <m>scale</m> value. This outlet is continuous, which means output will be delivered at the same rate as the input. Note that lists are iterated, so if you send a list containing 5 items <o>o.automean</o> will output &quot;immediatly&quot; 5 consecutive times.
				<br />
				<br />
				Out outlet(2): The mean (average) value of all numbers received up to that point, which is also affected by <m>scale</m> value. This outlet is also discrete. 
				<br />
				<br />
				Out outlet(3): The mean (average) value of all numbers received up to that point, which is also affected by <m>scale</m> value. This outlet is continuous.
			</description>
		</entry>
		<entry name="int">
			<description>
				Out outlet(4): How many numbers have been included in the averaging process.
				<br />
				<br />
				Out rightmost outlet(5): Display <o>o.automean</o> progress (%).
			</description>
		</entry>
	</misc>
</c74object>
